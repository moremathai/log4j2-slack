apply plugin: 'java'
apply plugin: 'maven'

group projectGroupId
version projectVersion

sourceCompatibility = javaVersionNumber

ext {
    isReleaseVersion = !(projectVersion =~ /-SNAPSHOT$/)
}

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    compile "org.apache.logging.log4j:log4j-core:$log4j2Version"
    compile "com.squareup.okhttp3:okhttp:$okHttpVersion"
    compile "com.google.code.gson:gson:$gsonVersion"
    compile("com.github.seratch:jslack:$jslackVersion") {
        exclude group: 'com.google.code.gson', module: 'gson'
        exclude group: 'com.squareup.okhttp3', module: 'okhttp'
    }
}

task sourceJar(type: Jar, dependsOn: classes) {
    from sourceSets.main.allSource
    classifier 'sources'
    extension 'jar'
    group 'build'
}

task javadocJar(type: Jar, dependsOn: javadoc) {
    from javadoc.destinationDir
    classifier 'javadoc'
    extension 'jar'
    group 'build'
}

artifacts {
    archives jar
    archives javadocJar
    archives sourceJar
}
